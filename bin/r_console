#!/usr/bin/env ruby
require File.expand_path('../../lib/r_type', __FILE__)

begin
  require 'pry'
rescue LoadError => e
  puts "Can't find the Pry gem!"
  puts "Please execute 'gem install pry' to use r_console"
  exit 1
end

RType::R.run do
  Pry.start binding, print: ->(output, value) do
    value.to_ruby if value.respond_to?(:to_ruby)
    output.puts "=> #{value.inspect}"
  end
end
